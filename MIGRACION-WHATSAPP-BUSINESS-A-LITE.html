<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Migraci√≥n WhatsApp Business API a WhatsApp Lite</title>
    <style>
        body {
            font-family: 'Liberation Sans', Arial, sans-serif;
            margin: 40px;
            font-size: 11pt;
            line-height: 1.4;
        }
        
        h1 {
            color: #1a5490;
            text-align: center;
            border-bottom: 3px solid #1a5490;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .header-info {
            background: #f0f4f8;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #1a5490;
        }
        
        .warning-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .warning-box h3 {
            color: #856404;
            margin-top: 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 10pt;
        }
        
        th {
            background: #1a5490;
            color: white;
            padding: 12px 8px;
            text-align: left;
            font-weight: bold;
            border: 1px solid #0d3a6f;
        }
        
        td {
            padding: 10px 8px;
            border: 1px solid #ddd;
            vertical-align: top;
        }
        
        tr:nth-child(even) {
            background: #f9f9f9;
        }
        
        tr:hover {
            background: #e8f4f8;
        }
        
        .phase-header {
            background: #34495e !important;
            color: white;
            font-weight: bold;
            text-align: center;
            padding: 12px;
            font-size: 11pt;
        }
        
        .step-number {
            background: #3498db;
            color: white;
            padding: 4px 8px;
            border-radius: 3px;
            font-weight: bold;
            display: inline-block;
            min-width: 25px;
            text-align: center;
        }
        
        .time-badge {
            background: #27ae60;
            color: white;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 9pt;
            display: inline-block;
        }
        
        .checkbox {
            font-size: 14pt;
            text-align: center;
        }
        
        .critical {
            background: #ffebee !important;
            border-left: 4px solid #e74c3c !important;
        }
        
        .description {
            line-height: 1.6;
        }
        
        .verification-table {
            background: #e8f5e9;
            border: 2px solid #4caf50;
        }
        
        .verification-table th {
            background: #4caf50;
        }
        
        .dont-do-table {
            background: #ffebee;
            border: 2px solid #f44336;
        }
        
        .dont-do-table th {
            background: #f44336;
        }
        
        .benefits-table {
            background: #e3f2fd;
            border: 2px solid #2196f3;
        }
        
        .benefits-table th {
            background: #2196f3;
        }
        
        .signature-section {
            margin-top: 40px;
            padding: 20px;
            border: 2px solid #333;
            background: #f9f9f9;
        }
        
        .signature-line {
            border-bottom: 1px solid #333;
            display: inline-block;
            min-width: 300px;
            margin: 0 10px;
        }
        
        ul {
            margin: 5px 0;
            padding-left: 20px;
        }
        
        li {
            margin: 3px 0;
        }
        
        .page-break {
            page-break-after: always;
        }
        
        .checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .editable-field {
            border-bottom: 1px solid #333;
            min-width: 200px;
            display: inline-block;
            padding: 2px 5px;
        }
        
        .control-buttons {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .control-buttons button {
            display: block;
            width: 100%;
            margin: 5px 0;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 11pt;
        }
        
        .btn-save {
            background: #4caf50;
            color: white;
        }
        
        .btn-print {
            background: #2196f3;
            color: white;
        }
        
        .btn-reset {
            background: #f44336;
            color: white;
        }
        
        @media print {
            .control-buttons {
                display: none;
            }
        }
        
        /* ===================================== */
        /* ESTILOS RESPONSIVE PARA M√ìVIL */
        /* ===================================== */
        @media screen and (max-width: 768px) {
            body {
                margin: 10px;
                font-size: 10pt;
            }
            
            h1 {
                font-size: 20pt;
                padding-bottom: 8px;
            }
            
            h2 {
                font-size: 14pt;
            }
            
            h3 {
                font-size: 12pt;
            }
            
            .header-info {
                padding: 10px;
                font-size: 9pt;
            }
            
            .warning-box, 
            div[style*="background: #e3f2fd"] {
                padding: 10px;
                font-size: 9pt;
            }
            
            .control-buttons {
                position: static;
                width: 100%;
                margin-bottom: 20px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            }
            
            .control-buttons button {
                font-size: 10pt;
                padding: 12px 10px;
            }
            
            /* Hacer tablas scrolleables horizontalmente */
            table {
                display: block;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                font-size: 9pt;
                border: 2px solid #ddd;
                border-radius: 5px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            
            /* Agregar indicador visual de scroll */
            table::-webkit-scrollbar {
                height: 8px;
            }
            
            table::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 10px;
            }
            
            table::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 10px;
            }
            
            table::-webkit-scrollbar-thumb:hover {
                background: #555;
            }
            
            th, td {
                padding: 8px 5px;
                white-space: nowrap;
                min-width: 80px;
            }
            
            td.description {
                white-space: normal;
                min-width: 200px;
            }
            
            .step-number {
                padding: 3px 6px;
                font-size: 9pt;
            }
            
            .time-badge {
                font-size: 8pt;
                padding: 2px 6px;
            }
            
            .checkbox input[type="checkbox"] {
                width: 18px;
                height: 18px;
            }
            
            /* Tabla m√°s compacta en m√≥vil */
            .phase-header {
                font-size: 10pt;
                padding: 10px;
            }
            
            /* Ajustar firma section */
            .signature-section {
                padding: 15px 10px;
            }
            
            .signature-line {
                display: block;
                min-width: 100%;
                margin: 5px 0;
            }
            
            /* Listas m√°s compactas */
            ul, ol {
                padding-left: 15px;
            }
            
            li {
                margin: 5px 0;
                font-size: 9pt;
            }
        }
        
        /* Para pantallas muy peque√±as (menos de 480px) */
        @media screen and (max-width: 480px) {
            body {
                margin: 5px;
                font-size: 9pt;
            }
            
            h1 {
                font-size: 18pt;
            }
            
            table {
                font-size: 8pt;
            }
            
            th, td {
                padding: 6px 3px;
                min-width: 60px;
            }
            
            td.description {
                min-width: 150px;
                font-size: 8pt;
                line-height: 1.3;
            }
            
            .control-buttons button {
                font-size: 9pt;
                padding: 10px 8px;
            }
            
            .step-number {
                font-size: 8pt;
                padding: 2px 5px;
            }
            
            .time-badge {
                font-size: 7pt;
            }
        }
    </style>
</head>
<body>

<div class="control-buttons">
    <button class="btn-save" onclick="guardarProgreso()">üíæ Guardar Progreso</button>
    <button class="btn-print" onclick="window.print()">üñ®Ô∏è Imprimir</button>
    <button class="btn-reset" onclick="resetearDocumento()">üîÑ Resetear Todo</button>
    <div id="save-status" style="margin-top: 10px; font-size: 9pt; color: #666; text-align: center;"></div>
</div>

<h1>üìã MIGRACI√ìN DE WHATSAPP BUSINESS API A WHATSAPP LITE</h1>

<div class="header-info">
    <strong>Instituto Winston Churchill</strong><br>
    <strong>Fecha:</strong> 5 de enero de 2026<br>
    <strong>Objetivo:</strong> Eliminar costos de WhatsApp Business API ($19-25 USD/mes) y migrar a WhatsApp Lite (gratis)<br>
    <strong>Tiempo estimado:</strong> 20-30 minutos
</div>

<!-- ============================================ -->
<!-- SECCI√ìN PARA COMPARTIR CON GROK/AI -->
<!-- ============================================ -->
<div style="background: #fff3e0; border-left: 5px solid #ff9800; padding: 20px; margin: 25px 0; border-radius: 5px;">
    <h2 style="color: #e65100; margin-top: 0;">üîç DEFINICI√ìN DEL PROBLEMA</h2>
    
    <h3 style="color: #f57c00; margin-top: 15px;">‚ö†Ô∏è Situaci√≥n Actual:</h3>
    <ul style="line-height: 1.8;">
        <li><strong>Integraci√≥n activa:</strong> WhatsApp Business API (oficial de Meta) integrada con Kommo CRM</li>
        <li><strong>N√∫meros afectados:</strong> 2 l√≠neas telef√≥nicas
            <ul>
                <li>üìû Instituto Winston Churchill: <code>+52 833 437 8743</code></li>
                <li>üìû Instituto Educativo Winston: <code>+52 833 347 4507</code></li>
            </ul>
        </li>
        <li><strong>Problema econ√≥mico:</strong> Cobros mensuales de <strong>$25 USD</strong> y <strong>$19 USD</strong> (total: <strong>$44 USD/mes = ~$880 MXN/mes</strong>)</li>
        <li><strong>Causa del costo:</strong> 
            <ul>
                <li>En diciembre 2025 hubo un <strong>ataque de spam masivo</strong></li>
                <li>Se dispararon los env√≠os de plantillas (templates) de WhatsApp Business API</li>
                <li>Meta cobra por cada conversaci√≥n iniciada y template enviado</li>
            </ul>
        </li>
        <li><strong>Frustraci√≥n:</strong> Los cobros de Meta no especifican <strong>QU√â</strong> se est√° cobrando, solo montos gen√©ricos</li>
    </ul>

    <h3 style="color: #f57c00; margin-top: 20px;">üéØ OBJETIVO DE LA MIGRACI√ìN:</h3>
    <ul style="line-height: 1.8;">
        <li>‚úÖ <strong>Eliminar costos mensuales</strong> de WhatsApp Business API ($44 USD/mes)</li>
        <li>‚úÖ <strong>Volver a WhatsApp Lite</strong> (versi√≥n gratuita integrada en Kommo)</li>
        <li>‚úÖ <strong>Mantener el historial</strong> de conversaciones en Kommo CRM</li>
        <li>‚úÖ <strong>Conservar los mismos n√∫meros</strong> telef√≥nicos</li>
        <li>‚úÖ <strong>Seguir gestionando</strong> todas las conversaciones desde Kommo CRM (no perder funcionalidad)</li>
        <li>‚ö†Ô∏è <strong>Aceptar limitaciones:</strong> No poder enviar mensajes proactivos masivos ni usar templates aprobados</li>
    </ul>

    <h3 style="color: #f57c00; margin-top: 20px;">üîÑ ¬øPOR QU√â ESTA MIGRACI√ìN ES NECESARIA?</h3>
    <ul style="line-height: 1.8;">
        <li><strong>Antes (hasta nov-dic 2025):</strong> Us√°bamos WhatsApp Lite (gratis) sin problemas</li>
        <li><strong>Cambio problem√°tico:</strong> Migramos a WhatsApp Business API pensando en mejoras</li>
        <li><strong>Consecuencia negativa:</strong> El ataque de spam gener√≥ costos inesperados y recurrentes</li>
        <li><strong>Decisi√≥n:</strong> Los costos NO justifican las funciones avanzadas (no las necesitamos)</li>
        <li><strong>Soluci√≥n:</strong> Volver a WhatsApp Lite (gratis) que cubr√≠a todas nuestras necesidades</li>
    </ul>
</div>

<div style="background: #e8f5e9; border-left: 5px solid #4caf50; padding: 20px; margin: 25px 0; border-radius: 5px;">
    <h2 style="color: #1b5e20; margin-top: 0;">üìã DESCRIPCI√ìN DETALLADA DEL PROCESO</h2>

    <h3 style="color: #2e7d32; margin-top: 15px;">üîß PROCESO T√âCNICO COMPLETO:</h3>
    
    <div style="margin: 15px 0; padding: 15px; background: white; border-radius: 5px;">
        <h4 style="color: #388e3c; margin-top: 0;">FASE 1: Desconexi√≥n de WhatsApp Business API</h4>
        <ul style="line-height: 1.8;">
            <li><strong>En Kommo CRM:</strong> Desinstalar/desconectar la integraci√≥n de WhatsApp Business (API)</li>
            <li><strong>En Meta Business Suite:</strong> Eliminar ambos n√∫meros de tel√©fono de las cuentas de WhatsApp Business</li>
            <li><strong>Efecto inmediato:</strong> Los n√∫meros quedan "liberados" y ya no generan cobros</li>
            <li><strong>Tiempo de espera:</strong> Meta puede tardar hasta 24-48 horas en liberar completamente los n√∫meros</li>
        </ul>
    </div>

    <div style="margin: 15px 0; padding: 15px; background: white; border-radius: 5px;">
        <h4 style="color: #388e3c; margin-top: 0;">FASE 2: Preparaci√≥n de Dispositivos M√≥viles</h4>
        <ul style="line-height: 1.8;">
            <li><strong>En cada celular:</strong>
                <ol style="margin-top: 10px;">
                    <li>Hacer un <strong>respaldo completo</strong> de WhatsApp (a Google Drive o iCloud)</li>
                    <li><strong>Desinstalar</strong> WhatsApp Business (app)</li>
                    <li><strong>Instalar</strong> WhatsApp normal/est√°ndar desde Play Store/App Store</li>
                    <li><strong>Registrar</strong> el mismo n√∫mero telef√≥nico</li>
                    <li><strong>Restaurar</strong> el respaldo (se recuperan todas las conversaciones)</li>
                </ol>
            </li>
            <li><strong>Resultado:</strong> WhatsApp funciona normal en el celular con todo el historial</li>
        </ul>
    </div>

    <div style="margin: 15px 0; padding: 15px; background: white; border-radius: 5px;">
        <h4 style="color: #388e3c; margin-top: 0;">FASE 3: Conexi√≥n a WhatsApp Lite en Kommo</h4>
        <ul style="line-height: 1.8;">
            <li><strong>En Kommo CRM:</strong> Instalar la integraci√≥n "WhatsApp Lite"</li>
            <li><strong>Escanear c√≥digo QR:</strong> Desde cada celular (WhatsApp ‚Üí Dispositivos vinculados)</li>
            <li><strong>Autorizar conexi√≥n:</strong> El CRM queda vinculado como "dispositivo adicional"</li>
            <li><strong>Pruebas:</strong> Enviar y recibir mensajes de prueba desde Kommo</li>
            <li><strong>Configuraci√≥n:</strong> Ajustar notificaciones, respuestas autom√°ticas, etc.</li>
        </ul>
    </div>

    <h3 style="color: #2e7d32; margin-top: 20px;">‚è±Ô∏è TIEMPO ESTIMADO TOTAL:</h3>
    <ul style="line-height: 1.8;">
        <li><strong>Fase 1:</strong> 10-15 minutos (Kommo + Meta)</li>
        <li><strong>Fase 2:</strong> 30-40 minutos por celular (respaldo + reinstalaci√≥n)</li>
        <li><strong>Fase 3:</strong> 10-15 minutos (vinculaci√≥n a Kommo)</li>
        <li><strong>TOTAL:</strong> Aproximadamente <strong>2-3 horas</strong> para ambos n√∫meros</li>
    </ul>

    <h3 style="color: #2e7d32; margin-top: 20px;">üí∞ IMPACTO FINANCIERO:</h3>
    <ul style="line-height: 1.8;">
        <li><strong>Ahorro inmediato:</strong> $44 USD/mes (~$880 MXN/mes)</li>
        <li><strong>Ahorro anual:</strong> $528 USD/a√±o (~$10,560 MXN/a√±o)</li>
        <li><strong>Costo de migraci√≥n:</strong> $0 USD (solo tiempo del personal)</li>
        <li><strong>ROI:</strong> Inmediato desde el primer mes</li>
    </ul>

    <h3 style="color: #2e7d32; margin-top: 20px;">üìä ¬øQU√â PERDEMOS vs QU√â GANAMOS?</h3>
    <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
        <thead>
            <tr style="background: #ff9800; color: white;">
                <th style="padding: 10px; text-align: left; border: 1px solid #f57c00;">‚ùå Perdemos (API)</th>
                <th style="padding: 10px; text-align: left; border: 1px solid #1b5e20;">‚úÖ Ganamos (Lite)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">Templates aprobados por Meta</td>
                <td style="padding: 10px; border: 1px solid #ddd; background: #e8f5e9;"><strong>$880 MXN/mes de ahorro</strong></td>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">Env√≠os masivos proactivos</td>
                <td style="padding: 10px; border: 1px solid #ddd; background: #e8f5e9;"><strong>Cero estr√©s por spam</strong></td>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">Botones interactivos avanzados</td>
                <td style="padding: 10px; border: 1px solid #ddd; background: #e8f5e9;"><strong>Sin cobros inesperados</strong></td>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">Webhooks autom√°ticos</td>
                <td style="padding: 10px; border: 1px solid #ddd; background: #e8f5e9;"><strong>Sistema m√°s simple</strong></td>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">(Funciones que NO usamos)</td>
                <td style="padding: 10px; border: 1px solid #ddd; background: #e8f5e9;"><strong>Todo lo que S√ç necesitamos</strong></td>
            </tr>
        </tbody>
    </table>

    <div style="background: #fff9c4; border: 2px solid #f9a825; padding: 15px; margin: 20px 0; border-radius: 5px;">
        <h4 style="color: #f57f17; margin-top: 0;">üí° CONCLUSI√ìN:</h4>
        <p style="margin: 0; line-height: 1.8;">
            <strong>Esta migraci√≥n es un RETORNO a lo que funcionaba bien.</strong> WhatsApp Lite cubre el 100% de nuestras necesidades reales:
            responder mensajes de padres, gestionar consultas, y mantener comunicaci√≥n desde Kommo. Las funciones avanzadas de la API
            no justifican el costo mensual, especialmente despu√©s del incidente de spam que evidenci√≥ los riesgos econ√≥micos.
        </p>
    </div>

    <div style="background: #e1f5fe; border: 2px solid #0288d1; padding: 15px; margin: 20px 0; border-radius: 5px;">
        <h4 style="color: #01579b; margin-top: 0;">‚ùì PREGUNTA PARA GROK (o cualquier AI):</h4>
        <p style="margin: 0; line-height: 1.8;">
            <strong>"Considerando la situaci√≥n descrita (costos inesperados por spam, cobros de $44 USD/mes sin detalle, 
            y que solo necesitamos responder mensajes de clientes desde el CRM), ¬øves alg√∫n RIESGO o PROBLEMA t√©cnico 
            en volver de WhatsApp Business API a WhatsApp Lite? ¬øHay algo que NO estemos considerando? 
            ¬øRecomiendas este cambio o sugieres una alternativa mejor?"</strong>
        </p>
    </div>
</div>

<div style="background: #e3f2fd; border: 2px solid #2196f3; padding: 15px; margin: 20px 0; border-radius: 5px;">
    <h3 style="color: #1565c0; margin-top: 0;">üìù INSTRUCCIONES DE USO</h3>
    <ul>
        <li>‚úÖ <strong>Abre este documento en tu navegador</strong> (Chrome, Firefox, Edge)</li>
        <li>‚úÖ <strong>Haz click en los checkboxes</strong> para marcar cada paso completado</li>
        <li>‚úÖ <strong>Edita los campos</strong> de fecha y firma (con fondo amarillo)</li>
        <li>üíæ <strong>Tu progreso se guarda autom√°ticamente</strong> en el navegador</li>
        <li>üñ®Ô∏è <strong>Usa el bot√≥n "Imprimir"</strong> cuando termines</li>
        <li>üì± <strong>En celular:</strong> Desliza las tablas horizontalmente para ver todo</li>
        <li>‚ö†Ô∏è <strong>No cierres el navegador</strong> si no has terminado (se guardar√° para la pr√≥xima sesi√≥n)</li>
    </ul>
</div>

<div class="warning-box">
    <h3>‚ö†Ô∏è IMPORTANTE - LEER ANTES DE COMENZAR</h3>
    <ul>
        <li>‚úÖ El historial de conversaciones en Kommo <strong>SE MANTIENE</strong></li>
        <li>‚úÖ Las apps de WhatsApp en los celulares <strong>NO SE TOCAN</strong></li>
        <li>‚úÖ Los n√∫meros de tel√©fono <strong>SIGUEN FUNCIONANDO</strong></li>
        <li>üîÑ Habr√° una interrupci√≥n de <strong>10-15 minutos</strong> durante la migraci√≥n</li>
    </ul>
</div>

<h2 style="color: #1a5490; border-bottom: 2px solid #1a5490; padding-bottom: 5px;">TABLA DE PASOS - MIGRACI√ìN COMPLETA</h2>

<table>
    <thead>
        <tr>
            <th style="width: 5%;">#</th>
            <th style="width: 20%;">PASO</th>
            <th style="width: 45%;">DESCRIPCI√ìN DETALLADA</th>
            <th style="width: 15%;">RESPONSABLE</th>
            <th style="width: 10%;">TIEMPO</th>
            <th style="width: 5%;">‚úì</th>
        </tr>
    </thead>
    <tbody>
        <!-- FASE 1 -->
        <tr>
            <td colspan="6" class="phase-header">FASE 1: PREPARACI√ìN</td>
        </tr>
        <tr>
            <td><span class="step-number">1</span></td>
            <td><strong>Verificar n√∫meros actuales</strong></td>
            <td class="description">
                Anota cu√°les son los 2 n√∫meros de WhatsApp que tienes conectados a la API:<br>
                ‚Ä¢ <strong>N√∫mero 1 (Winston Churchill):</strong> 528334378743 (833 437 87 43)<br>
                ‚Ä¢ <strong>N√∫mero 2 (Educativo Winston):</strong> 528333474507 (833 347 45 07)
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">2 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">2</span></td>
            <td><strong>Backup preventivo</strong></td>
            <td class="description">
                En Kommo, ve a cada lead importante y toma screenshots de conversaciones cr√≠ticas (opcional pero recomendado)
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">5 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">3</span></td>
            <td><strong>Avisar al equipo</strong></td>
            <td class="description">
                Notifica que habr√° 10-15 minutos sin servicio de WhatsApp en Kommo
            </td>
            <td>Admin</td>
            <td><span class="time-badge">2 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        
        <!-- FASE 2 -->
        <tr>
            <td colspan="6" class="phase-header">FASE 2: DESCONEXI√ìN DE API</td>
        </tr>
        <tr>
            <td><span class="step-number">4</span></td>
            <td><strong>Abrir Facebook Business Manager</strong></td>
            <td class="description">
                Ve a: <strong>https://business.facebook.com</strong>
            </td>
            <td>Admin</td>
            <td><span class="time-badge">1 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">5</span></td>
            <td><strong>Navegar a cuentas</strong></td>
            <td class="description">
                Click en el men√∫ lateral:<br>
                ‚Ä¢ <strong>Configuraci√≥n de empresa</strong><br>
                ‚Ä¢ <strong>Cuentas</strong><br>
                ‚Ä¢ <strong>WhatsApp Business</strong>
            </td>
            <td>Admin</td>
            <td><span class="time-badge">1 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">6</span></td>
            <td><strong>Eliminar n√∫mero 1 de API</strong></td>
            <td class="description">
                ‚Ä¢ Selecciona tu cuenta de WhatsApp<br>
                ‚Ä¢ Click en <strong>N√∫meros de tel√©fono</strong><br>
                ‚Ä¢ Busca el primer n√∫mero<br>
                ‚Ä¢ Click en <strong>‚ãÆ</strong> (tres puntos)<br>
                ‚Ä¢ <strong>Eliminar n√∫mero</strong><br>
                ‚Ä¢ Confirma la eliminaci√≥n
            </td>
            <td>Admin</td>
            <td><span class="time-badge">2 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">7</span></td>
            <td><strong>Eliminar n√∫mero 2 de API</strong></td>
            <td class="description">
                Repite el paso anterior para el segundo n√∫mero
            </td>
            <td>Admin</td>
            <td><span class="time-badge">2 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr class="critical">
            <td><span class="step-number">8</span></td>
            <td><strong>‚è∞ ESPERAR LIBERACI√ìN</strong></td>
            <td class="description">
                <strong>CR√çTICO:</strong> Espera <strong>10 minutos completos</strong> para que Meta libere los n√∫meros del sistema API.<br>
                <strong style="color: #e74c3c;">‚ö†Ô∏è No contin√∫es antes de tiempo o fallar√°</strong>
            </td>
            <td>-</td>
            <td><span class="time-badge" style="background: #e74c3c;">10 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        
        <!-- FASE 3 -->
        <tr>
            <td colspan="6" class="phase-header">FASE 3: DESCONEXI√ìN EN KOMMO</td>
        </tr>
        <tr>
            <td><span class="step-number">9</span></td>
            <td><strong>Abrir Kommo Settings</strong></td>
            <td class="description">
                Ve a: <strong>https://winstonchurchill.kommo.com/settings/widgets/</strong>
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">1 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">10</span></td>
            <td><strong>Localizar WhatsApp Business API</strong></td>
            <td class="description">
                En el men√∫ izquierdo:<br>
                ‚Ä¢ <strong>Integraciones</strong><br>
                ‚Ä¢ Busca "WhatsApp" (no Lite)<br>
                ‚Ä¢ La que dice "Instalado"
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">1 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">11</span></td>
            <td><strong>Desconectar API</strong></td>
            <td class="description">
                ‚Ä¢ Click en la integraci√≥n de WhatsApp Business<br>
                ‚Ä¢ Click en <strong>Desinstalar</strong> o <strong>Desconectar</strong><br>
                ‚Ä¢ Confirma la acci√≥n
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">1 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        
        <!-- FASE 4 -->
        <tr>
            <td colspan="6" class="phase-header">FASE 4: CONEXI√ìN DE WHATSAPP LITE</td>
        </tr>
        <tr>
            <td><span class="step-number">12</span></td>
            <td><strong>Localizar WhatsApp Lite</strong></td>
            <td class="description">
                En la misma secci√≥n de Integraciones:<br>
                ‚Ä¢ Busca "<strong>WhatsApp Lite</strong>"<br>
                ‚Ä¢ Debe decir "Instalado" (ya lo tienes)
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">1 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">13</span></td>
            <td><strong>Conectar n√∫mero 1</strong></td>
            <td class="description">
                ‚Ä¢ Click en WhatsApp Lite<br>
                ‚Ä¢ Click en <strong>Conectar</strong><br>
                ‚Ä¢ Te mostrar√° un c√≥digo QR
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">1 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">14</span></td>
            <td><strong>Escanear QR - N√∫mero 1</strong></td>
            <td class="description">
                üì± <strong>En el celular 1:</strong><br>
                ‚Ä¢ Abre WhatsApp (la app que usas normalmente)<br>
                ‚Ä¢ Ve a <strong>‚ãÆ</strong> ‚Üí <strong>Dispositivos vinculados</strong><br>
                ‚Ä¢ <strong>Vincular un dispositivo</strong><br>
                ‚Ä¢ Escanea el QR de Kommo<br>
                ‚Ä¢ Acepta permisos
            </td>
            <td>Usuario celular 1</td>
            <td><span class="time-badge">2 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">15</span></td>
            <td><strong>Verificar conexi√≥n - N√∫mero 1</strong></td>
            <td class="description">
                En Kommo debe aparecer "Conectado" con el nombre del n√∫mero
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">30 seg</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">16</span></td>
            <td><strong>Conectar n√∫mero 2</strong></td>
            <td class="description">
                Si tienes un segundo n√∫mero, repite pasos 13-15
            </td>
            <td>Admin Kommo + Usuario</td>
            <td><span class="time-badge">3 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        
        <!-- FASE 5 -->
        <tr>
            <td colspan="6" class="phase-header">FASE 5: PRUEBAS Y VERIFICACI√ìN</td>
        </tr>
        <tr>
            <td><span class="step-number">17</span></td>
            <td><strong>Enviar mensaje de prueba</strong></td>
            <td class="description">
                Desde Kommo, env√≠a un mensaje de prueba a tu propio n√∫mero
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">1 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">18</span></td>
            <td><strong>Verificar recepci√≥n</strong></td>
            <td class="description">
                Confirma que el mensaje llega correctamente
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">1 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">19</span></td>
            <td><strong>Responder desde Kommo</strong></td>
            <td class="description">
                Responde el mensaje desde Kommo y verifica que llega al celular
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">1 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">20</span></td>
            <td><strong>Verificar historial</strong></td>
            <td class="description">
                Abre un lead anterior y confirma que las conversaciones viejas siguen ah√≠
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">1 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        
        <!-- FASE 6 -->
        <tr>
            <td colspan="6" class="phase-header">FASE 6: CONFIGURACI√ìN FINAL</td>
        </tr>
        <tr>
            <td><span class="step-number">21</span></td>
            <td><strong>Renombrar canales (opcional)</strong></td>
            <td class="description">
                En Kommo, renombra los canales de WhatsApp Lite si es necesario:<br>
                ‚Ä¢ "WhatsApp Lite - Open House"<br>
                ‚Ä¢ "WhatsApp Lite - Sesiones"
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">2 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">22</span></td>
            <td><strong>Verificar plantillas</strong></td>
            <td class="description">
                Las plantillas de mensaje en Kommo deben seguir funcionando (no son plantillas de Meta)
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">2 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">23</span></td>
            <td><strong>Notificar al equipo</strong></td>
            <td class="description">
                Avisa que el servicio ya est√° restaurado y funcionando
            </td>
            <td>Admin</td>
            <td><span class="time-badge">1 min</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td><span class="step-number">24</span></td>
            <td><strong>Monitorear pr√≥ximas 24hrs</strong></td>
            <td class="description">
                Vigila que todos los mensajes entrantes y salientes funcionen correctamente
            </td>
            <td>Admin Kommo</td>
            <td><span class="time-badge">-</span></td>
            <td class="checkbox">‚òê</td>
        </tr>
    </tbody>
</table>

<div class="page-break"></div>

<h2 style="color: #4caf50; border-bottom: 2px solid #4caf50; padding-bottom: 5px;">‚úÖ VERIFICACI√ìN FINAL - CHECKLIST</h2>

<table class="verification-table">
    <thead>
        <tr>
            <th style="width: 80%;">VERIFICACI√ìN</th>
            <th style="width: 20%;">ESTADO</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Los 2 n√∫meros fueron eliminados de Facebook Business Manager</td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td>La integraci√≥n "WhatsApp Business API" fue desconectada en Kommo</td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td>WhatsApp Lite est√° conectado y muestra "Conectado"</td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td>Los 2 n√∫meros aparecen como dispositivos vinculados en los celulares</td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td>El mensaje de prueba se envi√≥ y recibi√≥ correctamente</td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td>El historial de conversaciones anteriores se mantiene en los leads</td>
            <td class="checkbox">‚òê</td>
        </tr>
        <tr>
            <td>El equipo fue notificado del cambio</td>
            <td class="checkbox">‚òê</td>
        </tr>
    </tbody>
</table>

<h2 style="color: #f44336; border-bottom: 2px solid #f44336; padding-bottom: 5px;">üö´ LO QUE NO DEBES HACER</h2>

<table class="dont-do-table">
    <thead>
        <tr>
            <th style="width: 40%;">‚ùå NUNCA HAGAS ESTO</th>
            <th style="width: 60%;">¬øPOR QU√â?</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><strong>Desinstalar WhatsApp del celular</strong></td>
            <td>La app del celular NO tiene nada que ver con la API</td>
        </tr>
        <tr>
            <td><strong>Cambiar de WhatsApp Business App a WhatsApp normal</strong></td>
            <td>No es necesario, ambos funcionan igual con Lite</td>
        </tr>
        <tr>
            <td><strong>Hacer respaldo y restaurar WhatsApp</strong></td>
            <td>No se pierde nada en el celular</td>
        </tr>
        <tr>
            <td><strong>Conectar Lite ANTES de eliminar de Facebook</strong></td>
            <td>Dar√° error de "n√∫mero ya en uso"</td>
        </tr>
        <tr>
            <td><strong>Saltarte los 10 minutos de espera</strong></td>
            <td>El n√∫mero no estar√° liberado y fallar√°</td>
        </tr>
        <tr>
            <td><strong>Borrar conversaciones del CRM</strong></td>
            <td>El historial en Kommo se mantiene autom√°ticamente</td>
        </tr>
    </tbody>
</table>

<h2 style="color: #2196f3; border-bottom: 2px solid #2196f3; padding-bottom: 5px;">üí∞ BENEFICIOS ESPERADOS</h2>

<table class="benefits-table">
    <thead>
        <tr>
            <th style="width: 50%;">ANTES (Business API)</th>
            <th style="width: 50%;">DESPU√âS (WhatsApp Lite)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>$19.47 - $25.00 USD/mes</td>
            <td style="font-weight: bold; color: #4caf50;">$0 USD/mes ‚úÖ</td>
        </tr>
        <tr>
            <td>Cobros por mensajes de spam</td>
            <td style="font-weight: bold; color: #4caf50;">Sin cobros ‚úÖ</td>
        </tr>
        <tr>
            <td>Configuraci√≥n compleja</td>
            <td style="font-weight: bold; color: #4caf50;">Simple y directo ‚úÖ</td>
        </tr>
        <tr>
            <td>Requiere plantillas aprobadas</td>
            <td style="font-weight: bold; color: #4caf50;">Mensajes libres ‚úÖ</td>
        </tr>
        <tr>
            <td colspan="2" style="text-align: center; background: #fff3cd; font-weight: bold; color: #856404;">
                <strong>üíµ Ahorro anual estimado: $234 - $300 USD</strong>
            </td>
        </tr>
    </tbody>
</table>

<div class="signature-section">
    <h3 style="margin-top: 0;">üìÖ REGISTRO DE MIGRACI√ìN</h3>
    
    <p>
        <strong>Fecha de inicio:</strong> <span class="signature-line"></span> 
        <strong>Hora:</strong> <span class="signature-line" style="min-width: 100px;"></span>
    </p>
    
    <p>
        <strong>Fecha de finalizaci√≥n:</strong> <span class="signature-line"></span> 
        <strong>Hora:</strong> <span class="signature-line" style="min-width: 100px;"></span>
    </p>
    
    <p>
        <strong>Responsable:</strong> <span class="signature-line"></span>
    </p>
    
    <p>
        <strong>Firma:</strong> <span class="signature-line"></span>
    </p>
    
    <p><strong>Estado final:</strong></p>
    <p style="margin-left: 20px;">
        ‚òê Exitoso &nbsp;&nbsp;&nbsp; ‚òê Con observaciones &nbsp;&nbsp;&nbsp; ‚òê Fallido
    </p>
</div>

<div style="text-align: center; margin-top: 40px; padding: 20px; background: #f9f9f9; border-top: 2px solid #1a5490;">
    <p><strong>Documento creado:</strong> 5 de enero de 2026</p>
    <p><strong>Instituto Winston Churchill</strong></p>
    <p style="font-size: 9pt; color: #666;">Versi√≥n 1.0 - Versi√≥n Interactiva</p>
</div>

<script>
// ========================================
// SISTEMA DE CHECKBOXES FUNCIONALES
// ========================================

// Convertir todos los ‚òê en checkboxes funcionales al cargar la p√°gina
document.addEventListener('DOMContentLoaded', function() {
    let checkboxId = 0;
    
    // Buscar todas las celdas con class="checkbox"
    const checkboxCells = document.querySelectorAll('.checkbox');
    
    checkboxCells.forEach(cell => {
        // Si la celda solo contiene el s√≠mbolo ‚òê, reemplazarla con un checkbox
        if (cell.textContent.trim() === '‚òê') {
            checkboxId++;
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = 'check_' + checkboxId;
            checkbox.onchange = guardarProgreso;
            cell.textContent = '';
            cell.appendChild(checkbox);
        }
    });
    
    // Cargar el progreso guardado
    cargarProgreso();
    
    // Mensaje de bienvenida
    mostrarMensaje('‚úÖ Documento cargado. Tu progreso se guarda autom√°ticamente', 'success');
});

// ========================================
// GUARDAR PROGRESO EN LOCALSTORAGE
// ========================================
function guardarProgreso() {
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    const estado = {};
    
    checkboxes.forEach(checkbox => {
        estado[checkbox.id] = checkbox.checked;
    });
    
    // Guardar campos de texto editables
    const editableFields = document.querySelectorAll('[contenteditable="true"]');
    const campos = {};
    
    editableFields.forEach((field, index) => {
        campos['field_' + index] = field.textContent;
    });
    
    // Guardar en localStorage
    localStorage.setItem('migracion_whatsapp_checkboxes', JSON.stringify(estado));
    localStorage.setItem('migracion_whatsapp_campos', JSON.stringify(campos));
    localStorage.setItem('migracion_whatsapp_fecha', new Date().toISOString());
    
    // Mostrar mensaje de guardado
    mostrarMensaje('üíæ Progreso guardado', 'success');
    
    // Actualizar contador
    actualizarContador();
}

// ========================================
// CARGAR PROGRESO GUARDADO
// ========================================
function cargarProgreso() {
    const estadoGuardado = localStorage.getItem('migracion_whatsapp_checkboxes');
    const camposGuardados = localStorage.getItem('migracion_whatsapp_campos');
    
    if (estadoGuardado) {
        const estado = JSON.parse(estadoGuardado);
        
        Object.keys(estado).forEach(id => {
            const checkbox = document.getElementById(id);
            if (checkbox) {
                checkbox.checked = estado[id];
            }
        });
    }
    
    if (camposGuardados) {
        const campos = JSON.parse(camposGuardados);
        const editableFields = document.querySelectorAll('[contenteditable="true"]');
        
        editableFields.forEach((field, index) => {
            const key = 'field_' + index;
            if (campos[key]) {
                field.textContent = campos[key];
            }
        });
    }
    
    actualizarContador();
}

// ========================================
// RESETEAR DOCUMENTO
// ========================================
function resetearDocumento() {
    if (confirm('¬øEst√°s seguro de que quieres resetear TODO el progreso?\n\nEsta acci√≥n no se puede deshacer.')) {
        // Limpiar checkboxes
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach(checkbox => {
            checkbox.checked = false;
        });
        
        // Limpiar localStorage
        localStorage.removeItem('migracion_whatsapp_checkboxes');
        localStorage.removeItem('migracion_whatsapp_campos');
        localStorage.removeItem('migracion_whatsapp_fecha');
        
        // Recargar p√°gina
        location.reload();
    }
}

// ========================================
// ACTUALIZAR CONTADOR DE PROGRESO
// ========================================
function actualizarContador() {
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    const completados = Array.from(checkboxes).filter(cb => cb.checked).length;
    const total = checkboxes.length;
    const porcentaje = total > 0 ? Math.round((completados / total) * 100) : 0;
    
    const statusDiv = document.getElementById('save-status');
    if (statusDiv) {
        statusDiv.innerHTML = `<strong>${completados}/${total}</strong><br>${porcentaje}%`;
    }
}

// ========================================
// MOSTRAR MENSAJES
// ========================================
function mostrarMensaje(mensaje, tipo = 'info') {
    const statusDiv = document.getElementById('save-status');
    if (statusDiv) {
        const originalContent = statusDiv.innerHTML;
        statusDiv.innerHTML = `<span style="color: ${tipo === 'success' ? '#4caf50' : '#2196f3'};">${mensaje}</span>`;
        
        setTimeout(() => {
            actualizarContador();
        }, 2000);
    }
}

// ========================================
// HACER CAMPOS DE FECHA/FIRMA EDITABLES
// ========================================
window.addEventListener('load', function() {
    // Buscar todos los signature-line y hacerlos editables
    const signatureLines = document.querySelectorAll('.signature-line');
    signatureLines.forEach(line => {
        line.contentEditable = 'true';
        line.style.cursor = 'text';
        line.style.backgroundColor = '#fffacd';
        line.addEventListener('input', guardarProgreso);
        line.addEventListener('focus', function() {
            if (this.textContent.trim() === '') {
                this.style.backgroundColor = '#ffff99';
            }
        });
        line.addEventListener('blur', function() {
            this.style.backgroundColor = '#fffacd';
        });
    });
});

console.log('‚úÖ Sistema de guardado autom√°tico activado');
console.log('üíæ Tu progreso se guarda autom√°ticamente en el navegador');

// ========================================
// INDICADOR DE SCROLL EN M√ìVIL
// ========================================
if (window.innerWidth <= 768) {
    window.addEventListener('load', function() {
        const tables = document.querySelectorAll('table');
        tables.forEach(table => {
            // Agregar indicador visual si la tabla es m√°s ancha que la pantalla
            if (table.scrollWidth > table.clientWidth) {
                const indicator = document.createElement('div');
                indicator.style.cssText = 'background: #ffc107; color: #000; padding: 5px 10px; text-align: center; font-size: 9pt; border-radius: 5px; margin: 5px 0;';
                indicator.innerHTML = 'üëâ Desliza horizontalmente para ver m√°s ‚Üí';
                table.parentNode.insertBefore(indicator, table);
                
                // Ocultar indicador despu√©s del primer scroll
                table.addEventListener('scroll', function() {
                    indicator.style.display = 'none';
                }, { once: true });
            }
        });
        
        console.log('üì± Modo m√≥vil activado');
    });
}
</script>

</body>
</html>

